
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width", initial-scale="1.0">
        <link rel="icon" href="https://i.imgur.com/mA0UKt4.png">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <title>Jogo da Velha</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                border-spacing: 0;
                outline: none;
            }
            #container {
                width: 300px;
                margin: auto;
                margin-top: 150px;
            }
            #compVenc {
                display: none;
                text-align: center;
                margin-top: 40px;
                font-family: 'Open Sans', sans-serif;
                color: red;
            }
            #userVenc {
                display: none;
                text-align: center;
                margin-top: 40px;
                font-family: 'Open Sans', sans-serif;
                color: green;
            }
            #empate {
                display: none;
                text-align: center;
                margin-top: 40px;
                font-family: 'Open Sans', sans-serif;
                color: orange;
            }
            td {
                height: 95px;
                width: 95px;
            }
            #linha1 td {
                border-bottom: 3px solid #000;
            }
            #linha2 td {
                border-bottom: 3px solid #000;
            }
            #a00, #a01, #a10, #a11, #a20, #a21 {
                border-right: 3px solid #000;
            }
            img {
                text-align: center;
                vertical-align: middle;
                width: 90px;
                height: 90px;
                display: none;
            }
            #botao {
                color: #000;
                text-align: center;
                border-radius: 50px;
                border-color: #999;
                width: 32px;
                height: 32px;
                display: block;
                margin: auto;
                margin-top: 20px;
            }
            #botao:hover {
                background-color: #999;
            }
        </style>
        <script>
            let tabela = [[],[],[]];
            let imgX = "https://i.imgur.com/JrOiUxE.png";
            let imgO = "https://i.imgur.com/t52zxxT.png";
            let ganha = "#6ced5b";
            let perde = "#ed5b5b";
            let empate = "#ede15b";
            // Função de jogada do usuário (onclick)
            function jogadaUser(casa) {
                // Verificar casa escolhida pelo jogador
                if(casa == '00') {
                    // Verificar se a casa já possui algum valor, ou seja, se alguma jogada já foi feita nela (usuário = 0, computador = 1)
                    if(tabela[0][0] != 0 && tabela[0][0] != 1) {
                        // Se não tiver sido feita, atribuir valor 0 (usuário) a casa
                        tabela[0][0] = 0;
                        // Exibir o X na casa escolhida
                        document.getElementById("img00").style.display = "inline";
                        document.getElementById("img00").src = imgX;
                        // Verificar se essa jogada faz o usuário ganhar (return: true)
                        verificacaoUser();
                        // Se retornar false, o computador faz uma jogada
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    }
                }
                if(casa == '01') {
                    if(tabela[0][1] != 0 && tabela[0][1] != 1) {
                        tabela[0][1] = 0;
                        document.getElementById("img01").style.display = "inline";
                        document.getElementById("img01").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
                if(casa == '02') {
                    if(tabela[0][2] != 0 && tabela[0][2] != 1) {
                        tabela[0][2] = 0;
                        document.getElementById("img02").style.display = "inline";
                        document.getElementById("img02").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
                if(casa == '10') {
                    if(tabela[1][0] != 0 && tabela[1][0] != 1) {
                        tabela[1][0] = 0;
                        document.getElementById("img10").style.display = "inline";
                        document.getElementById("img10").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
                if(casa == '11') {
                    if(tabela[1][1] != 0 && tabela[1][1] != 1) {
                        tabela[1][1] = 0;
                        document.getElementById("img11").style.display = "inline";
                        document.getElementById("img11").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
                if(casa == '12') {
                    if(tabela[1][2] != 0 && tabela[1][2] != 1) {
                        tabela[1][2] = 0;
                        document.getElementById("img12").style.display = "inline";
                        document.getElementById("img12").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
                if(casa == '20') {
                    if(tabela[2][0] != 0 && tabela[2][0] != 1) {
                        tabela[2][0] = 0;
                        document.getElementById("img20").style.display = "inline";
                        document.getElementById("img20").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
                if(casa == '21') {
                    if(tabela[2][1] != 0 && tabela[2][1] != 1) {
                        tabela[2][1] = 0;
                        document.getElementById("img21").style.display = "inline";
                        document.getElementById("img21").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
                if(casa == '22') {
                    if(tabela[2][2] != 0 && tabela[2][2] != 1) {
                        tabela[2][2] = 0;
                        document.getElementById("img22").style.display = "inline";
                        document.getElementById("img22").src = imgX;
                        verificacaoUser();
                        if(verificacaoUser() == false) {
                            jogadaComputador();
                        }
                    } 
                }
            }
            // Função que verifica se a jogada do usuário o faz ganhar
            function verificacaoUser() {
                // Nesta primeira condição, as 3 casas da primeira linha precisam ter o valor 0 (jogadas do usuário)
                if(tabela[0][0] == 0 && tabela[0][1] == 0 && tabela[0][2] == 0) {
                    // Se sim, exibe a mensagem de vitória do usuário e altera a cor de fundo das casas
                    document.getElementById("linha1").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                else if(tabela[1][0] == 0 && tabela[1][1] == 0 && tabela[1][2] == 0) {
                    document.getElementById("linha2").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                else if(tabela[2][0] == 0 && tabela[2][1] == 0 && tabela[2][2] == 0) {
                    document.getElementById("linha3").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                else if(tabela[0][0] == 0 && tabela[1][0] == 0 && tabela[2][0] == 0) {
                    document.getElementById("a00").style.backgroundColor = ganha;
                    document.getElementById("a10").style.backgroundColor = ganha;
                    document.getElementById("a20").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                else if(tabela[0][1] == 0 && tabela[1][1] == 0 && tabela[2][1] == 0) {
                    document.getElementById("a01").style.backgroundColor = ganha;
                    document.getElementById("a11").style.backgroundColor = ganha;
                    document.getElementById("a21").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                else if(tabela[0][2] == 0 && tabela[1][2] == 0 && tabela[2][2] == 0) {
                    document.getElementById("a02").style.backgroundColor = ganha;
                    document.getElementById("a12").style.backgroundColor = ganha;
                    document.getElementById("a22").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                else if(tabela[0][0] == 0 && tabela[1][1] == 0 && tabela[2][2] == 0) {
                    document.getElementById("a00").style.backgroundColor = ganha;
                    document.getElementById("a11").style.backgroundColor = ganha;
                    document.getElementById("a22").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                else if(tabela[0][2] == 0 && tabela[1][1] == 0 && tabela[2][0] == 0) {
                    document.getElementById("a02").style.backgroundColor = ganha;
                    document.getElementById("a11").style.backgroundColor = ganha;
                    document.getElementById("a20").style.backgroundColor = ganha;
                    exibirUserVenc();
                    return true;
                }
                // Condição de empate, em que todas as casas estão preenchidas, seja com 0 ou 1
                else if((tabela[0][0] == 0 || tabela[0][0] == 1) && (tabela[0][1] == 0 || tabela[0][1] == 1) && (tabela[0][2] == 0 || tabela[0][2] == 1) && (tabela[1][0] == 0 || tabela[1][0] == 1) && (tabela[1][1] == 0 || tabela[1][1] == 1) && (tabela[1][2] == 0 || tabela[1][2] == 1) && (tabela[2][0] == 0 || tabela[2][0] == 1) && (tabela[2][1] == 0 || tabela[2][1] == 1) && (tabela[2][2] == 0 || tabela[2][2] == 1)) {
                    exibirEmpate();
                    return true;
                }
                // Nenhuma condição foi satisfeita e o jogador não ganhou, ou seja, retorna false e continua o jogo
                else {
                    return false;
                }
            }            
            function jogadaComputador() {
                // Cálculo da jogada do computador
                let jogadaComp = Math.floor(Math.random() * 3).toString() + Math.floor(Math.random() * 3).toString();
                // Verificar a jogada do computador
                if(jogadaComp == '00') {
                    // Verificar se a casa escolhida já não possui algum valor
                    if(tabela[0][0] != 0 && tabela[0][0] != 1) {
                        // Se não possuir, atribuir valor de 1 (computador) pra casa
                        tabela[0][0] = 1;
                        // Exibir o O na casa escolhida
                        document.getElementById("img00").style.display = "inline";
                        document.getElementById("img00").src = imgO;
                        // Verificar se essa jogada faz o computador ganhar
                        verificacaoComp();
                    }
                    // Se a casa escolhida pelo computador já tiver um valor, a função roda de novo, até achar uma casa sem valor
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '01') {
                    if(tabela[0][1] != 0 && tabela[0][1] != 1) {
                        tabela[0][1] = 1;
                        document.getElementById("img01").style.display = "inline";
                        document.getElementById("img01").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '02') {
                    if(tabela[0][2] != 0 && tabela[0][2] != 1) {
                        tabela[0][2] = 1;
                        document.getElementById("img02").style.display = "inline";
                        document.getElementById("img02").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '10') {
                    if(tabela[1][0] != 0 && tabela[1][0] != 1) {
                        tabela[1][0] = 1;
                        document.getElementById("img10").style.display = "inline";
                        document.getElementById("img10").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '11') {
                    if(tabela[1][1] != 0 && tabela[1][1] != 1) {
                        tabela[1][1] = 1;
                        document.getElementById("img11").style.display = "inline";
                        document.getElementById("img11").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '12') {
                    if(tabela[1][2] != 0 && tabela[1][2] != 1) {
                        tabela[1][2] = 1;
                        document.getElementById("img12").style.display = "inline";
                        document.getElementById("img12").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '20') {
                    if(tabela[2][0] != 0 && tabela[2][0] != 1) {
                        tabela[2][0] = 1;
                        document.getElementById("img20").style.display = "inline";
                        document.getElementById("img20").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '21') {
                    if(tabela[2][1] != 0 && tabela[2][1] != 1) {
                        tabela[2][1] = 1;
                        document.getElementById("img21").style.display = "inline";
                        document.getElementById("img21").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
                if(jogadaComp == '22') {
                    if(tabela[2][2] != 0 && tabela[2][2] != 1) {
                        tabela[2][2] = 1;
                        document.getElementById("img22").style.display = "inline";
                        document.getElementById("img22").src = imgO;
                        verificacaoComp();
                    }
                    else {
                        jogadaComputador();
                    }
                }
            }
            // Função que verifica se a jogada do computador o fez ganhar
            function verificacaoComp() {
                // Nesta primeira condição, as 3 casas da primeira linha precisam ter o valor 1 (jogadas do computador)
                if(tabela[0][0] == 1 && tabela[0][1] == 1 && tabela[0][2] == 1) {
                    // Se sim, exibe a mensagem de vitória do computador e altera a cor de fundo das casas
                    document.getElementById("linha1").style.backgroundColor = perde;
                    exibirCompVenc();
                }
                else if(tabela[1][0] == 1 && tabela[1][1] == 1 && tabela[1][2] == 1) {
                    document.getElementById("linha2").style.backgroundColor = perde;
                    exibirCompVenc();
                }
                else if(tabela[2][0] == 1 && tabela[2][1] == 1 && tabela[2][2] == 1) {
                    document.getElementById("linha3").style.backgroundColor = perde;
                    exibirCompVenc();
                }
                else if(tabela[0][0] == 1 && tabela[1][0] == 1 && tabela[2][0] == 1) {
                    document.getElementById("a00").style.backgroundColor = perde;
                    document.getElementById("a10").style.backgroundColor = perde;
                    document.getElementById("a20").style.backgroundColor = perde;
                    exibirCompVenc();
                }
                else if(tabela[0][1] == 1 && tabela[1][1] == 1 && tabela[2][1] == 1) {
                    document.getElementById("a01").style.backgroundColor = perde;
                    document.getElementById("a11").style.backgroundColor = perde;
                    document.getElementById("a21").style.backgroundColor = perde;
                    exibirCompVenc();
                }
                else if(tabela[0][2] == 1 && tabela[1][2] == 1 && tabela[2][2] == 1) {
                    document.getElementById("a02").style.backgroundColor = perde;
                    document.getElementById("a12").style.backgroundColor = perde;
                    document.getElementById("a22").style.backgroundColor = perde;
                    exibirCompVenc();
                }
                else if(tabela[0][0] == 1 && tabela[1][1] == 1 && tabela[2][2] == 1) {
                    document.getElementById("a00").style.backgroundColor = perde;
                    document.getElementById("a11").style.backgroundColor = perde;
                    document.getElementById("a22").style.backgroundColor = perde;
                    exibirCompVenc();
                }
                else if(tabela[0][2] == 1 && tabela[1][1] == 1 && tabela[2][0] == 1) {
                    document.getElementById("a02").style.backgroundColor = perde;
                    document.getElementById("a11").style.backgroundColor = perde;
                    document.getElementById("a20").style.backgroundColor = perde;
                    exibirCompVenc();
                }
            }
            // Exibir mensagem de vitória do computador
            function exibirCompVenc() {
                document.getElementById("compVenc").style.display = "block";
            }
            // Exibir mensagem de vitória do usuário
            function exibirUserVenc() {
                document.getElementById("userVenc").style.display = "block";
            }
            // Exibir mensagem de empate
            function exibirEmpate() {
                // Altera a cor de fundo de todas as casas
                document.getElementById("a00").style.backgroundColor = empate;
                document.getElementById("a01").style.backgroundColor = empate;
                document.getElementById("a02").style.backgroundColor = empate;
                document.getElementById("a10").style.backgroundColor = empate;
                document.getElementById("a11").style.backgroundColor = empate;
                document.getElementById("a12").style.backgroundColor = empate;
                document.getElementById("a20").style.backgroundColor = empate;
                document.getElementById("a21").style.backgroundColor = empate;
                document.getElementById("a22").style.backgroundColor = empate;
                document.getElementById("empate").style.display = "block";
            }
            // Botão para recarregar a página e jogar novamente
            function jogarNovamente() {
                location.reload();
            }
        </script>
    </head>
    <body>
        <div id="container">
            <a href="#">
                <table>
                    <tr id="linha1">
                        <td id="a00" onclick="jogadaUser('00')"><img id="img00"></td>
                        <td id="a01" onclick="jogadaUser('01')"><img id="img01"></td>
                        <td id="a02" onclick="jogadaUser('02')"><img id="img02"></td>
                    </tr>
                    <tr id="linha2">
                        <td id="a10" onclick="jogadaUser('10')"><img id="img10"></td>
                        <td id="a11" onclick="jogadaUser('11')"><img id="img11"></td>
                        <td id="a12" onclick="jogadaUser('12')"><img id="img12"></td>
                    </tr>
                    <tr id="linha3">
                        <td id="a20" onclick="jogadaUser('20')"><img id="img20"></td>
                        <td id="a21" onclick="jogadaUser('21')"><img id="img21"></td>
                        <td id="a22" onclick="jogadaUser('22')"><img id="img22"></td>
                    </tr>
                </table>
            </a>
            <h2 id="compVenc">O computador venceu...<button id="botao" onclick="jogarNovamente()"><i class="material-icons">refresh</i></button></h2>
            <h2 id="userVenc">Você venceu!<button id="botao" onclick="jogarNovamente()"><i class="material-icons">refresh</i></button></h2>
            <h2 id="empate">Empate<button id="botao" onclick="jogarNovamente()"><i class="material-icons">refresh</i></button></h2>
        </div>
    </body>
</html>